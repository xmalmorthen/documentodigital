<link href="@Url.Content("~/Content/TableStyle.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery.tablesorter.pager.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.tablesorter.new.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.tablesorter.filter.js")" type="text/javascript"></script>

@model IEnumerable<TramiteDigitalWeb.data_members.ca_usuarios>

@{
    ViewBag.Title = "Usuarios";
}

<h2>Usuarios</h2>

@Html.ActionLink(" ", "Create",null,new { @class = "realizaaccion", title = "Agregar usuario", style = "float:right; background: url('" + Url.Content("~/Content/images/usuario.png") + "') no-repeat center right; display:inline-block; height:48px; width:48px;" })

<div>
    <span>Filtrar por tramite:</span>
    <input name="filter" id="filter-box" value="" maxlength="30" size="30" type="text">
    <input id="filter-clear-button" type="submit" value="Limpiar"/>
</div>
<table class="tablesorter">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.usuario)
            </th>                
            <th>
                @Html.DisplayNameFor(model => model.activo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.es_administrador)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.f_registro)
            </th>        
            <th style="width:100px!Important;"></th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Count() > 0)
        {
            foreach (var item in Model)
            {
                <tr style="line-height: 23px;">
                    <td>
                        @Html.DisplayFor(modelItem => item.usuario)
                    </td>
                    <td style="text-align: center;">
                        @Html.DisplayFor(modelItem => item.activo)
                    </td>
                    <td style="text-align: center;">
                        @Html.DisplayFor(modelItem => item.es_administrador)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.f_registro)
                    </td>        
                    <td style="width:100px!Important;">
                        @Html.ActionLink(" ", "Details", 
                            new { id_ma_digital = item.id },
                            new { @class = "realizaaccion", title = "Detalles del usuario", style = "padding: 0 10px; background: url('" + Url.Content("~/Content/images/detalle.png") + "') no-repeat center right; display:inline-block; height:16px; width:16px;" })
                        @Html.ActionLink(" ", "Edit", 
                            new { id_ma_digital = item.id },
                            new { @class = "realizaaccion", title = "Editar usuario", style = "padding: 0 10px; background: url('" + Url.Content("~/Content/images/edit.png") + "') no-repeat center right; display:inline-block; height:16px; width:16px;" })
                        @Html.ActionLink(" ", "Delete", 
                            new { id_ma_digital = item.id },
                            new { @class = "realizaaccion", title = "Eliminar usuario", style = "padding: 0 10px; background: url('" + Url.Content("~/Content/images/delete.png") + "') no-repeat center right; display:inline-block; height:16px; width:16px;" })
                    </td>
                </tr>
            }
        }
        else { 
                <tr>
                    <td>
                        No se encontraron registros...
                    </td>
                </tr>
        }        
    <tbody>
</table>
<div id="pager">
    <form>
        <img src="@Url.Content("~/Content/images/first.png")" class="first" />
        <img src="@Url.Content("~/Content/images/prev.png")" class="prev" />
        <input type="text" class="pagedisplay" readonly />
        <img src="@Url.Content("~/Content/images/next.png")" class="next" />
        <img src="@Url.Content("~/Content/images/last.png")" class="last" />
        <select class="pagesize">
            <option selected="selected" value="20">20</option>
            <option value="50">50</option>
            <option value="100">100</option>
            <option value="200">200</option>
            <option value="500">500</option>
        </select>
        <span style="float:right ;font-size: 16px;"><span style="font-size: 24px;font-weight: bold;">[<span id="totalregistros" style="color: #F00;font-size: 18px;padding:0 5px;">@Model.Count()</span>]</span> registro(s) encontrado(s)</span>
    </form>
</div>

<script type="text/javascript">
    $(function () {
        $("table.tablesorter").tablesorter({
            widgets: ['zebra'],
            widthFixed: true,
            sortList: [[0, 0]],
            headers: {
                4: {
                    sorter: false
                }
            }
        })
        .tablesorterPager({
            container: $("#pager"),
            size: $(".pagesize option:selected").val()
        })
        .tablesorterFilter({
            filterContainer: "#filter-box",
            filterClearContainer: "#filter-clear-button",
            filterColumns: [0]
        });

        $("table.tablesorter").on("filterEnd", function () {
            $("#totalregistros").html($("table.tablesorter tbody tr").length);
        });
    });

    

</script>